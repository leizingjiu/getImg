<style>
p{text-align:center;line-height:2em;position: absolute; top: 50%;left:50%; transform: translate(-50%,-50%);}
#getImageBtn{text-decoration:none;color:#313335;border:solid 0.2em #5c5d5e;    border-style: dashed;    border-radius: 5px;padding:5px;margin:10px;transition: all 0.5s}
.cantUse{ opacity: 0.5; font-size:0.7em;cursor:wait; }
.use{cursor:move;}
</style>

<p>先将<a id="getImageBtn" class="use">獲取圖片</a>拖到书签栏<br>再然后去要获取图片的页面，点击刚才拖上去的书签，就可以啦~<br> /*来关注我微博 @leizingyiu 呀，虽然不怎么更新😀*/</p>

<script src="/myFunctions/openWin.js"></script>
<script src="/myFunctions/clickAndDrag(obj,dragUrl,clickUrl).js"></script>

<script id="getImageScript">
javascript:
//pauseDaScript  (function(){var mySrc='';var mySrcList=[];var imgSrcList=[];var bgUrlList=[];var replaceWhiteList=['instagram.com'];var replaceBoo=true;for(var i=0;i<replaceWhiteList.length;i++){if(window.location.href.indexOf(replaceWhiteList[i])!=-1){replaceBoo=false}}imgSrcList=imgLinkArray(document,replaceBoo);bgUrlList=bgImgLinkArray(document,replaceBoo);mySrcList=mySrcList.concat(imgSrcList,bgUrlList);var myFrame=document.getElementsByTagName("iframe");var frameDoc;for(j=0;j<myFrame.length;j++){if(myFrame[j].scrollWidth!=0||myFrame[j].scrollHeight!=0){try{frameDoc=myFrame[j].contentWindow.document;imgSrcList=imgLinkArray(frameDoc,replaceBoo);bgUrlList=bgImgLinkArray(frameDoc,replaceBoo);mySrcList=mySrcList.concat(imgSrcList,bgUrlList)}catch(err){}}}mySrc=makeImgPage(mySrcList);var myStyle="<style>img{max-width:100vw;}</style>";if(mySrc!=''){document.write(myStyle+'<center>'+mySrc+'</center>');void(document.close())}else{alert('No images!')}void 0;function imgLinkArray(obj,replaceBoo){var result=[];var reg=/(\S+)(jpg|png|jpeg|gif)(.+)/gi;var regData=/^data.*/g;for(var i=0;i<obj.images.length;i++){if(obj.images[i].hasAttribute("src")){result[result.length]=obj.images[i].src}else if(obj.images[i].hasAttribute("lazy-scr-load")){result[result.length]=obj.images[i].attributes["lazy-src-load"].value}else{try{result[result.length]=obj.images[i].attributes[0].value}catch(err){console.log(obj.images[i])}}if(regData.test(result[result.length-1])!=true&&replaceBoo){result[result.length-1]=result[result.length-1].replace(reg,"$1$2")}console.log(result[result.length-1])}return result}function makeImgPage(imgArray){var result="";for(var i=0;i<imgArray.length;i++){result+='<img src='+imgArray[i]+'><br>'}return result}function getAllChildren(obj){var result=[];for(var i=0;i<obj.childElementCount;i++){result=result.concat(obj.children[i]);if(obj.children[i].childElementCount!==0){result=result.concat(getAllChildren(obj.children[i]))}}return result}function bgImgLinkArray(obj,replaceBoo){var result=[];var all=getAllChildren(obj);var bg;var reg=/(url\(")(.*)("\))/g;var reg2=/(\S+)(jpg|png|jpeg|gif)(.+)/gi;for(var j=0;j<all.length;j++){bg=all[j].style.backgroundImage;if(bg!=""||bg!=undefined){result[result.length]=String(bg).replace(reg,"$2");result[result.length-1]=replaceBoo==true?result[result.length-1].replace(reg2,"$1$2"):result[result.length-1]}}return result}})()
</script>

<script>
clickAndDrag(document.getElementById("getImageBtn"),document.getElementById('getImageScript').innerHTML.replace("\/\/pauseDaScript", ""), "towerFilePage-checkFileName.js");
console.log("来关注我微博 @leizingyiu 呀，虽然不怎么更新😀")

</script>
